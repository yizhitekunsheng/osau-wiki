---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description: string;
  category: string;
  published: Date;
  updated?: Date;
}

const { title, description, category, published, updated } = Astro.props;

const formatDate = (date: Date) => {
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};
---

<BaseLayout title={title} description={description}>
  <article class="container">
    <header class="article-header">
      <span class="badge">{category}</span>
      <h1>{title}</h1>
      <p class="article-meta">
        Published {formatDate(published)}
        {updated && <span> &middot; Updated {formatDate(updated)}</span>}
      </p>
    </header>
    <div class="article-content">
      <slot />
    </div>
    <footer class="article-footer">
      <a href="/osau-wiki/guides/" class="btn">&larr; Back to Guides</a>
    </footer>
  </article>
</BaseLayout>

<style>
  .article-header {
    text-align: center;
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid var(--color-border);
  }

  .article-header h1 {
    margin: 1rem 0 0.5rem;
  }

  .article-meta {
    color: var(--color-text-muted);
    font-size: 0.9rem;
  }

  .article-footer {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--color-border);
  }
</style>
